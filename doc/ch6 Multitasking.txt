6.1 关于任务和多任务
现代实时系统基于多任务和任务间通信的互补概念。多任务环境允许将实时应用程序构造为一组独立的任务，每个任务具有自己的执行线程和系统资源集。
VxWorks任务是操作系统本身以及作为进程执行的应用程序中代码执行的基本单元。在其他操作系统中，术语“线程”被类似地使用。
多任务为应用程序提供了控制和响应多个离散的真实世界事件的基本机制。VxWorks实时内核提供了一个基本的多任务环境。在单处理器系统上，当内核根据调度策略交错它们的执行时，多任务会产生并发运行的许多线程的外观。在SMP系统中，多任务处理涉及许多执行线程的实际并发。
每个任务都有自己的上下文，这是任务每次被内核调度运行时看到的CPU环境和系统资源。在上下文切换中，任务的上下文保存在任务控制块（TCB）中。任务的上下文包括诸如用户和组ID、执行线程（任务的程序计数器）、CPU寄存器、动态变量堆栈和函数调用等属性。
除了少数例外，VxWorks的对称多处理器（SMP）和单处理器（UP）配置共享相同的API――差别仅相当于几个函数。还要注意，一些编程实践――例如依赖于任务优先级而不是显式锁定的隐式同步技术――不适合SMP系统。
有关SMP编程的信息，请参见18，VxWorks SMP。

6.2 VxWorks系统任务
根据其配置，VxWorks在引导时启动各种系统任务，其中一些任务始终在运行。
基本VxWorks任务
下面将描述与VxWorks的基本配置相关联的一组任务，以及与常用可选组件相关联的一些任务。
注意：不要暂停、删除或更改这些任务的优先级。这样做会导致不可预测的系统行为。

Root Task
任务名称      tRootTask
优先权        0
触发事件      系统启动。
组件          N/A
描述 根任务是内核执行的第一个任务。根任务的入口点是usrRoot(),它初始化大多数VxWorks工具。它生成诸如日志任务、异常任务、网络任务和tRlogind守护进程之类的任务。通常，根任务在所有初始化完成后终止。
参考          VxWorks 7 BSP and Driver Guide.

Logging Task
任务名称      tLogTask
优先权        0
触发事件      A LogMsg()从ISR上下文或任务上下文调用。
组件          INCLUDE_LOGGING
描述          VxWorks模块使用日志任务来记录来自ISR的系统消息和消息，而无需在当前任务上下文中执行I/O。
参考          11.8 Asynchronous Input/Output, p.313 and the logLib API reference.

Exception Task
任务名称      tExcTask
优先权        0
触发事件      从ISR上下文调用excJobAdd()。
组件          INCLUDE_EXC_TASK
描述         异常任务代表ISR执行作业（即函数调用），因为它们不能在中断级别执行。它必须在系统中具有最高优先级。
参考          The excLib API reference entry.

Job Task
任务名称      tJobTask
优先权        0
触发事件      N/A。所有作业都由VxWorks系统设施排队。
组件          INCLUDE_JOB_TASK
描述         任务任务执行任务，函数代表任务调用。它在等待请求时以优先级0运行，并动态调整其优先级以匹配请求作业执行的任务的优先级。其主要目的之一是处理自杀任务删除（即，自我删除的任务）。
参考          6.13 Task Deletion and Deletion Safety, p.100.

SMP ISR Task
任务名称      tIsrN
优先权        0
触发事件      调用isrDeferJobAdd()的设备中断。
组件          INCLUDE_ISR_DEFER
描述         当设备驱动程序执行isrDeferJobAdd()时，tIsrN任务（或任务）代表设备驱动程序执行函数调用。任务名称中的N是延迟任务正在运行的CPU的索引。根据需要创建单独的tIsrN任务，每个任务与CPU N具有CPU亲和性。SMP感知设备驱动程序将中断级处理推迟到在本地CPU上执行的tIsrN任务，以避免跨处理器通信的开销来调度延迟任务。
参考          The isrDeferLib API reference entry

Network Task
任务名称      tIsrN
优先权        50（默认值）。
触发事件      到达、传输完成、网络协议定时器过期、套接字应用程序请求等。
组件          INCLUDE_NET_DAEMON
描述          网络守护进程tNet0为VxWorks网络堆栈执行网络驱动程序和网络协议处理。
参考          Wind River Network Stack Programmer’s Guide.

可选组件的任务
以下任务是在VxWorks的常见配置中找到的一些附加任务的示例。

Kernel Shell Task
任务名称      tShellN
优先权        1（可配置）
触发事件      系统启动（默认）。
组件          INCLUDE_SHELL
描述          内核外壳是作为任务生成的。从内核shell调用（而不是派生）的任何函数或任务都在tShellnum上下文中运行。控制台上的shell的任务名是tShell0。内核shell是重入的，一次可以运行多个shell任务（因此是后缀号）。此外，如果用户远程（使用rlogin或telnet）登录到VxWorks目标，则名称也反映了这一事实。例如，tShellRem1。
参考          VxWorks 7 Kernel Shell User’s Guide.

Kernel Shell Login Task
任务名称      tRlogind
优先权        55
触发事件      新的登录连接。
组件          INCLUDE_RLOGIN
描述          内核shell登录守护进程允许远程用户登录到VxWorks。它接受来自另一个VxWorks或主机系统的远程登录请求，并生成tRlogInTask_hexNum和tRlogOutTask_hexNum（其中hexNum是标识连接的十六进制数）。只要远程用户登录，这些任务就存在。此外，除非在VxWorks 5.5兼容模式下配置shell，否则服务器生成远程shell任务tShellRemdecNum（其中decNum是特定于特定远程shell会话的十进制数）。
参考          VxWorks 7 Kernel Shell User’s Guide.

Kernel Shell Telnet Task
任务名称      ipcom_telnetd
优先权        55
触发事件      新的telnet连接。
组件          INCLUDE_IPTELNETS
描述          描述此守护进程允许远程用户使用telnet登录到VxWorks内核外壳。它接受来自另一个网络主机的远程登录请求。ipcom_telnetd生成其他任务来处理每个传入连接，包括ipcom_telnetspawn、tStdioProxyhexNum和tLoginhexNum（其中hexNum是标识特定连接的十六进制数）。除非在VxWorks 5.5兼容模式下配置shell，否则还会生成远程shell任务tShellRemdecNum（其中decNum是特定于特定远程shell会话的十进制数）。
参考          Wind River Network Stack Programmer's Guide.

RPC Task
任务名称      tPortmapd
优先权        54
触发事件      查询由客户端查找RPC服务。
组件          INCLUDE_RPC
描述          这个守护进程是RPC服务器，充当运行在同一台机器上的RPC服务的中央注册中心。RPC客户端查询守护进程，以查找如何与各种服务器联系。
参考          The rpcLib API reference entry.

TCF Task
任务名称      tTcf
优先权        49
触发事件      tTcfEvent任务请求的阻塞作业
组件          INCLUDE_DEBUG_AGENT
描述          tTcf任务是用于执行阻塞操作的工作者任务。由于无法阻止tTcfEvent任务，所有阻塞操作都推迟到这些任务。工作完成后，结果被发送到tTcfEvent任务来处理数据。

TCF Events Task
任务名称      tTcfEvents
优先权        49
触发事件      TCF客户端请求或目标事件。
组件          INCLUDE_DEBUG_AGENT
描述          tTcfEvents任务处理所有目标事件（如上下文创建和销毁以及断点）。它还处理来自TCF客户端（调试器、调试shell等）的所有请求。事件请求的阻塞操作（例如读取文件描述符）被延迟到以事件的形式将结果发送回tTcfEvents任务的工作任务池。

Debug Task
任务名称      tVxdbgTask
优先权        25
触发事件      给调试工具的VxWorks上下文事件。
组件          INCLUDE_VXDBG
描述          此任务提供到VxWorks调试库（VxDBG事件库）提供的事件支持的接口。此支持由任务级事件延迟设施组成。根据定义，事件是VxWorks上下文事件（例如任务或RTP创建事件、任务或RTP任务停止事件或任务异常事件）的回调函数，必须报告给调试工具（内核shell、Workbench调试器等等）。延迟回调执行是异步的。

6.3 任务的所有者和继承关系

